Это статья про то, что такое майнинг (на примере сети Биткойн). 

#### 

Одним из ключевых свойств Биткойн, благодаря которым он вообще получил признание, является невозможность "включить печатный станок", как это делают центробанки всех стран, и допечатать "на олимпиаду", "на Крым" и так далее. Ибо при каждом включении печатного станка обесцениваются те деньги, которые находятся у вас, дорогие сограждане, в руке/в кармане/под подушкой. 

Поясним на коротком примере. Пусть на планете Плюк жило четыре человека, и у каждого было по 100$. Соответственно, каждый из них мог купить четверть всех богатств планеты Плюк, так как каждый из них является владельцем 100$, а суммарное количество долларов на планете равно 400. Теперь банкир взял и допечатал себе ещё 400 долларов. У банкира стало 500 долларов, а у остальных троих осталось по 100. Таким образом, теперь банкир может купить 5/8 богатств планеты, а остальные трое — только по 1/8, в то время как до действий банкира они могли купить 1/4. Заметим, что с тем же успехом он мог превратиться в бандита, напасть на каждого из этих троих и отнять у каждого по 50$ — тогда бы у банкира (теперь уже бандита) стало 250$, а у всех остальных осталось по 50$ (и снова то же соотношение — 5/8 всех денежных запасов у бандита, по 1/8 у остальных). Экономически между допечатыванием 400$ и физическим грабежом каждого из жителей на 50$ нет никакой разницы (в этой ситуации), вот что я хочу сказать.

Выпуск биткойнов является [строго плановым](https://en.bitcoin.it/wiki/Controlled_supply#Projected_Bitcoins_Short_Term), гораздо более плановым даже, чем советская экономика, потому что алгоритм раз и навсегда прописан в протоколе Биткойн-сети (что-то, что является куском программного кода, всегда является более плановым, чем советская экономика). Именно, есть такое понятие как сложность майнинга ([difficulty](https://en.bitcoin.it/wiki/Difficulty)), которая (каждые 2016 блоков = каждые две недели) автоматически подстраивается так, что нахождение одного блока занимает в среднем 10 минут. (10 минут ⋅ 2016 = 2 недели.) Делает она это так: если последние 2016 блоков были найдены менее чем за две недели (т.е. мощность устройств майнеров растёт), сложность увеличивается до такой, чтобы при той же (увеличившейся) мощности эти блоки были найдены таки за две недели; и обратно, если последние 2016 блоков были найдены более чем за две недели, сложность падает. Ещё раз — в среднем, система подстраивается под то, чтобы 1 блок кем-то на планете был найден ровно раз в 10 минут (что такое "найден" мы обсудим чуть дальше). Выплата за нахождение блока в первые 4 года составляла 50 BTC; в последующие 4 года (и поныне, т.к. блокчейн сети Биткойн был запущен 3 января 2009 года) она "уполовинивается" и составляет 25 BTC; в последующие 4 года it also would halve и составит 12.5 BTC, и так далее. При этом такая выплата происходит "из ниоткуда", и это есть единственный способ эмиссии (появления новых монет).

Давайте произведём несложное школьное вычисление. Смотрите, в первые четыре года раз в 10 минут какой-то счастливчик получал 50 монет. Следующие четыре года раз в 10 минут какой-то счастливчик получает/будет получать 25 монет. И так далее. <br>
Что такое "четыре года раз в 10 минут"? Вот в часе 6 10-минутных интервалов. Вопрос свёлся к тому, что такое "четыре года раз в час". Нетрудно посчитать, что это 24 ⋅ 365 ⋅ 4 = 35040 событий. "Четыре года раз в 10 минут" — это, соответственно, 6 ⋅ 35040 = 210240 событий. <br>
То есть за 4 года будет произведено 210240 выплат (каждый раз какому-то из майнеров, а именно, майнеру-победителю; смысл этого термина будет пояснён ниже). При этом в первые 4 года каждая такая выплата составит 50 BTC, во вторые четыре года каждая такая выплата составит 25 BTC... Посчитаем количество всех биткойнов, которые когда-либо будут выплачены. Это 

210240 ⋅ 50 + 210240 ⋅ 25 + 210240 ⋅ 12.5 + ... = 210240 ⋅ (50 + 25 + 12.5 + ...).

В скобках получилась геометрическая прогрессия (привет, школа!). Сумма бесконечной геометрической прогрессии, [как мы помним](https://ru.wikipedia.org/wiki/%D0%93%D0%B5%D0%BE%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B5%D1%81%D1%81%D0%B8%D1%8F#.D0.A1.D0.B2.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0), равна b<sub>0</sub>/(1-q), где b<sub>0</sub> — начальный элемент прогрессии (в нашем случае 50), а q — множитель её (в нашем случае 1/2). Таким образом, полностью благодаря школьной математике 50 + 25 + 12.5 + ... = 100, и полная сумма всех выплаченных когда-либо биткойнов равна 210240 ⋅ 100 = 21024000 = 21.024 millions BTC.

Мы получили, что число Биткойнов ограничено самим протоколом, скорость добычи Биткойнов тоже жёстко ограничена протоколом. Биткойнов никогда не может быть больше, чем 21 миллион. Сейчас, за первые 5.5 лет, выпущено [немногим более 13 миллионов биткойнов](http://bitinfocharts.com/ru/). 

Что же будет, когда за майнинг будут давать очень мало биткойнов? Не беда — просто меньшее количество человек будут участвовать в этой безумной гонке, и сложность упадёт. Также есть мнение, что поскольку на самом деле награда майнера складывается из *двух* частей — награды за нахождение блока и всех комиссий в этом блоке —  майнеры будут привлечены комиссиями.

#### Почему новичку не стоит особенно глубоко погружаться в размышления о майнинге

Сложность майнинга автоматически подстраивается так, что 1 блок в среднем добывает кто-то раз в 10 минут. Сам процесс майнинга заключается в том, что ты должен подобрать такое число nonce (nonce - число, сокращение от "number used once"), что хэш-функция hash(prev. block "root hash" + transactions + nonce) даёт число, меньшее некоторого очень малого динамически изменяющегося числа (target value). Соответственно, если кому-то повезло, то он предъявляет это значение nonce и говорит: "вот, смотрите! у меня получилось!", другие майнеры вычисляют один этот хэш и говорят: "да, чувак", и все переходят к поиску следующего блока. А майнер победитель подписывает своим хэшем этот блок и получает награду, которая сейчас составляет 25 BTC (~10 000$). Мощность среднего ПК - 2 Mhash/s (т.е. обычный ПК перебирает примерно 2 миллиона хэшей). Мощность всей сети Биткойн - 166 Phash/s (Phash = 10<sup>15</sup> hash). Поэтому в 2014 году в майнинге без специализированного оборудования, hashrate которого не 2 Mhash/s, а в тысячи раз выше, делать нечего. Собственно, в майнинге вообще никому, кроме крупных производителей спецоборудования, делать уже нечего - гораздо выгоднее делать приложения, сервисы и инфраструктуру сети Биткойн и иметь с этого деньги, свободно путешествуя по планете Земля.

Надо также понимать, что в 2014 году майнинг — это уже для богатых и это не тот вопрос, в который следует сразу вникать новичку; времена, когда можно было намайнить себе 100 BTC (50 000$ по курсу на сентябрь 2014-го) за сутки, прошли. Сейчас майнеров много, и сложность находится около небес, и, соответственно, чтобы заниматься майнингом, нужно иметь вычислительные мощности около небес, т.е. вложить несколько десятков или сотен тысяч долларов в оборудование. Или (что выгоднее) купить компанию, производящую это оборудование. (Самым мощным спецоборудованием сейчас являются так называемые АСИКи, application-specific integrated circuits. Это устройства, которые не умеют ничего, кроме как вычислять SHA256-хэши. За счёт гигантск. Словом, специально созданное под какую-то задачу устройство всегда побеждает устройство общего назначения (обычный компьютер).) 
http://coinspot.ru/technology/mining/odna-iz-krupnejshih-bitcoin-ferm-iznutri/
http://bitnovosti.com/2014/07/14/maining-sklady-zavody/

#### В нулевом приближении

Майнинг это ______________, и если кому-то удастся ____________, то он молодец и получает 25 BTC.

#### В первом приближении

Так вот, в процессе майнинга происходит 

Current target = 00000000000000002815EE000000000000000000000000000000000000000000. Вот ме  . Пример случайного 64-символьного (16-ричного) числа: 57AF274D01E24D0C.. (дальше мне стало лень придумывать). Глядя на current target и пример случайного числа, понятно, что  Таким образом, нужно перебором найти такое значение nonce, что sha256 (transactions data + nonce) < current target. 

Вводится такое понятие, как hashrate. Вот ноут, с которого я тебе пишу, к примеру, перебирает два миллиона хэшей в секунду. Говорят, что у такого ноута хэшрэйт 2 Mhash/s. Каждый может, конечно, майнить на своём ноуте, но в 2014 году, когда сложность (это термин) находится у небес, электричество дороже обойдётся.

(В принципе, всё написано в
https://en.bitcoin.it/wiki/Difficulty
https://en.bitcoin.it/wiki/Target. Эти ресурсы особенно хороши ссылками на "current target" или "current difficulty").